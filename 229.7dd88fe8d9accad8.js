"use strict";(self.webpackChunksebastienbarbier_en=self.webpackChunksebastienbarbier_en||[]).push([[229],{3229:(X,G,l)=>{l.d(G,{aw:()=>Y});var o=l(7587),q=l(8306),S=l(576);function c(n){return!!n&&(n instanceof q.y||(0,S.m)(n.lift)&&(0,S.m)(n.subscribe))}var f=l(9646),I=l(4128),F=l(7272),E=l(9770),z=l(7579);const M={now:()=>(M.delegate||Date).now(),delegate:void 0};class H extends z.x{constructor(a=1/0,e=1/0,t=M){super(),this._bufferSize=a,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,a),this._windowTime=Math.max(1,e)}next(a){const{isStopped:e,_buffer:t,_infiniteTimeWindow:s,_timestampProvider:i,_windowTime:r}=this;e||(t.push(a),!s&&t.push(i.now()+r)),this._trimBuffer(),super.next(a)}_subscribe(a){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(a),{_infiniteTimeWindow:t,_buffer:s}=this,i=s.slice();for(let r=0;r<i.length&&!a.closed;r+=t?1:2)a.next(i[r]);return this._checkFinalizedStatuses(a),e}_trimBuffer(){const{_bufferSize:a,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:s}=this,i=(s?1:2)*a;if(a<1/0&&i<t.length&&t.splice(0,t.length-i),!s){const r=e.now();let h=0;for(let u=1;u<t.length&&t[u]<=r;u+=2)h=u;h&&t.splice(0,h+1)}}}var B=l(3099);function A(n,a,e){let t,s=!1;return n&&"object"==typeof n?({bufferSize:t=1/0,windowTime:a=1/0,refCount:s=!1,scheduler:e}=n):t=null!=n?n:1/0,(0,B.B)({connector:()=>new H(t,a,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var v=l(5698),k=l(4004),W=l(4351),O=l(3900);class L{}let V=(()=>{class n extends L{getTranslation(e){return(0,f.of)({})}}return n.\u0275fac=function(){let a;return function(t){return(a||(a=o.n5z(n)))(t||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class C{}let j=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function g(n){return null!=n}function m(n){return n&&"object"==typeof n&&!Array.isArray(n)}function _(n,a){let e=Object.assign({},n);return m(n)&&m(a)&&Object.keys(a).forEach(t=>{m(a[t])?t in n?e[t]=_(n[t],a[t]):Object.assign(e,{[t]:a[t]}):Object.assign(e,{[t]:a[t]})}),e}class y{}let x=(()=>{class n extends y{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let s;return s="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,s}getValue(e,t){let s="string"==typeof t?t.split("."):[t];t="";do{t+=s.shift(),!g(e)||!g(e[t])||"object"!=typeof e[t]&&s.length?s.length?t+=".":e=void 0:(e=e[t],t="")}while(s.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(s,i)=>{let r=this.getValue(t,i);return g(r)?r:s}):e}}return n.\u0275fac=function(){let a;return function(t){return(a||(a=o.n5z(n)))(t||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class T{}let K=(()=>{class n extends T{compile(e,t){return e}compileTranslations(e,t){return e}}return n.\u0275fac=function(){let a;return function(t){return(a||(a=o.n5z(n)))(t||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class N{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new o.vpe,this.onLangChange=new o.vpe,this.onDefaultLangChange=new o.vpe}}const b=new o.OlP("USE_STORE"),D=new o.OlP("USE_DEFAULT_LANG"),w=new o.OlP("DEFAULT_LANGUAGE"),P=new o.OlP("USE_EXTEND");let U=(()=>{class n{constructor(e,t,s,i,r,h=!0,u=!1,d=!1,p){this.store=e,this.currentLoader=t,this.compiler=s,this.parser=i,this.missingTranslationHandler=r,this.useDefaultLang=h,this.isolate=u,this.extend=d,this.pending=!1,this._onTranslationChange=new o.vpe,this._onLangChange=new o.vpe,this._onDefaultLangChange=new o.vpe,this._langs=[],this._translations={},this._translationRequests={},p&&this.setDefaultLang(p)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,v.q)(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,f.of)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe((0,v.q)(1)).subscribe(s=>{this.changeLang(e)}),t):(this.changeLang(e),(0,f.of)(this.translations[e]))}retrieveTranslations(e){let t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe(A(1),(0,v.q)(1));return this.loadingTranslations=t.pipe((0,k.U)(s=>this.compiler.compileTranslations(s,e)),A(1),(0,v.q)(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},s),this.translations[e]):s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),t}setTranslation(e,t,s=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(s||this.extend)&&this.translations[e]?_(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,s){let i;if(t instanceof Array){let r={},h=!1;for(let u of t)r[u]=this.getParsedResult(e,u,s),c(r[u])&&(h=!0);if(h){const u=t.map(d=>c(r[d])?r[d]:(0,f.of)(r[d]));return(0,I.D)(u).pipe((0,k.U)(d=>{let p={};return d.forEach((J,$)=>{p[t[$]]=J}),p}))}return r}if(e&&(i=this.parser.interpolate(this.parser.getValue(e,t),s)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),s)),void 0===i){let r={key:t,translateService:this};void 0!==s&&(r.interpolateParams=s),i=this.missingTranslationHandler.handle(r)}return void 0!==i?i:t}get(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,W.b)(s=>c(s=this.getParsedResult(s,e,t))?s:(0,f.of)(s)));{let s=this.getParsedResult(this.translations[this.currentLang],e,t);return c(s)?s:(0,f.of)(s)}}getStreamOnTranslationChange(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');return(0,F.z)((0,E.P)(()=>this.get(e,t)),this.onTranslationChange.pipe((0,O.w)(s=>{const i=this.getParsedResult(s.translations,e,t);return"function"==typeof i.subscribe?i:(0,f.of)(i)})))}stream(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');return(0,F.z)((0,E.P)(()=>this.get(e,t)),this.onLangChange.pipe((0,O.w)(s=>{const i=this.getParsedResult(s.translations,e,t);return c(i)?i:(0,f.of)(i)})))}instant(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,t);if(c(s)){if(e instanceof Array){let i={};return e.forEach((r,h)=>{i[e[h]]=e[h]}),i}return e}return s}set(e,t,s=this.currentLang){this.translations[s][e]=this.compiler.compile(t,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(N),o.LFG(L),o.LFG(T),o.LFG(y),o.LFG(C),o.LFG(D),o.LFG(b),o.LFG(P),o.LFG(w))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Y=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:L,useClass:V},e.compiler||{provide:T,useClass:K},e.parser||{provide:y,useClass:x},e.missingTranslationHandler||{provide:C,useClass:j},N,{provide:b,useValue:e.isolate},{provide:D,useValue:e.useDefaultLang},{provide:P,useValue:e.extend},{provide:w,useValue:e.defaultLanguage},U]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:L,useClass:V},e.compiler||{provide:T,useClass:K},e.parser||{provide:y,useClass:x},e.missingTranslationHandler||{provide:C,useClass:j},{provide:b,useValue:e.isolate},{provide:D,useValue:e.useDefaultLang},{provide:P,useValue:e.extend},{provide:w,useValue:e.defaultLanguage},U]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})()}}]);